/**
 * mentor-sidebar
 * @version v1.13.0
 */
var PS_MENTOR_SIDEBAR=function(){var e={dom:{},parent:window.parent,config:{server:"",serverPath:"/mentors/sidebar/",loadTimeout:3e3,readyTimeout:1e4,width:350,widthDefault:350,scrollbar:!1,prismLoaded:!1,prismMaxSize:1600,prismTopBar:62},state:{load:!1,open:!1},ui:{}},i={pendingOpenCB:null,originalMinHeight:null};e.ui.hideLoading=function(){e.dom.loading.style.display="none",e.dom.iframe.style.visibility="visible"},e.ui.open=function(){e.dom.wrapper.style.width=e.config.width+"px"},e.ui.close=function(){e.ui.bodyMinSizeReset(),e.config.prismLoaded&&n.prismAdjust(),e.dom.wrapper.style.width="0px"},e.ui.reOpen=function(){e.dom.wrapper.style.width=e.config.width/1.5+"px",setTimeout(function(){e.dom.wrapper&&(e.dom.wrapper.style.width=e.config.width+"px")},500)},e.ui.bodyMinSize=function(n){1!=e.config.scrollbar&&(null==i.originalMinHeight&&(i.originalMinHeight=document.body.style.minHeight),document.body.style.minHeight=n)},e.ui.bodyMinSizeReset=function(n){null!=i.originalMinHeight&&e.ui.bodyMinSize(i.originalMinHeight)},e.ui.fullScreen=function(i){i===!1?(e.config.fullScreen=!1,e.dom.wrapper.style.width=e.config.width+"px",e.config.prismLoaded&&(e.dom.wrapper.style.top=e.config.prismTopBar+"px",n.prismAdjust())):(e.config.fullScreen=!0,e.dom.wrapper.style.top="0px",e.dom.wrapper.style.right="0px",e.dom.wrapper.style.width="100%")},e.ui.customWidth=function(i){i===!1?e.dom.wrapper.style.width=e.config.width+"px":e.dom.wrapper.style.width=i+"px"},e.event={on:{},emit:function(i,n){e.parent.postMessage&&e.parent.postMessage({event:i,data:n},"*")},fullscreen:function(i){e.event.emit("fullscreen",i)},ready:function(i){e.event.emit("ready",i)},loaded:function(i){e.event.emit("loaded",i)},error:function(i){e.event.emit("error",i)},close:function(i){e.event.emit("close",i)},minBodyChange:function(i){e.event.emit("minBodyChange",i)},adjustPrism:function(i){e.event.emit("adjustPrism",i)},scroll:function(i){1!=e.config.scrollbar&&e.event.emit("scroll",i)},_listener:function(o){"loaded"==o.data.event&&clearInterval(i.timmerLoaded),"ready"==o.data.event&&(clearInterval(i.timmerReady),i.pendingOpenCB&&(i.pendingOpenCB(null),i.pendingOpenCB=null),e.ui.hideLoading()),"error"==o.data.event&&i.pendingOpenCB&&(i.pendingOpenCB(o.data.data),i.pendingOpenCB=null),"close"==o.data.event&&e.close(),"minBodyChange"==o.data.event&&e.ui.bodyMinSize(o.data.data),"adjustPrism"==o.data.event&&e.config.prismLoaded&&n.prismAdjust(),"fullscreen"==o.data.event&&e.ui.fullScreen(o.data.data),"customWidth"==o.data.event&&e.ui.customWidth(o.data.data),"scroll"==o.data.event&&e.event.on.scroll&&e.event.on.scroll(o.data.data)}},e.open=function(o,t){if(e.dom.iframe)return e.ui.reOpen();var o=o||{};e.config.width=o.sidebar_width||e.config.widthDefault,e.config.scrollbar=o.sidebar_scrollbar||!1,window.addEventListener("message",e.event._listener,!1),window.addEventListener("scroll",n.onScroll,!1),e.config.prismLoaded="undefined"!=typeof Prism,e.dom.wrapper=document.createElement("div"),e.dom.wrapper.style.cssText=["border-left:solid "+(e.config.prismLoaded?1:0)+"px #181818","position:fixed","overflow:hidden","width: 0px","top:"+(e.config.prismLoaded?e.config.prismTopBar:0)+"px","bottom:0px","right:0px","transition: width 1s ease","background-color: #222222","z-index: 122"].join(";"),document.getElementsByTagName("body")[0].appendChild(e.dom.wrapper),e.dom.loadingStyle=document.createElement("style"),e.dom.loadingStyle.innerHTML=".PS_MENTOR_LOAD,.PS_MENTOR_LOAD span{display:inline-block}@keyframes loadingDotsBlinkAnim{0%,100%{background-color:rgba(249,104,22,0)}30%,60%{background-color:#f96816}}.PS_MENTOR_LOAD span{animation-name:loadingDotsBlinkAnim;animation-duration:1.4s;animation-iteration-count:infinite;animation-fill-mode:both;background-color:#F96816;margin-left:12px;border:1px solid #F96816;-webkit-border-radius:6px;-moz-border-radius:6px;-ms-border-radius:6px;-o-border-radius:6px;border-radius:6px;height:6px;width:6px}.PS_MENTOR_LOAD span:nth-child(1){margin-left:0!important}.PS_MENTOR_LOAD span:nth-child(2){animation-delay:.2s}.PS_MENTOR_LOAD span:nth-child(3){animation-delay:.4s}.PS_MENTOR_LOAD span:nth-child(4){animation-delay:.6s}",document.body.appendChild(e.dom.loadingStyle),e.dom.loading=document.createElement("div"),e.dom.loading.id="PS_MENTOR_LOADING",e.dom.loading.innerHTML='<div class="PS_MENTOR_LOAD"><span></span><span></span><span></span><span></span></div>',e.dom.loading.style.cssText=["overflow:hidden","color:white","text-align:center","position:absolute","top:50%","margin-top:-15px","width:100%","height:30px;","line-height:30px;"].join(";"),e.dom.iframe=document.createElement("iframe"),e.dom.iframe.frameBorder=0,e.dom.iframe.scrolling=1==e.config.scrollbar?"yes":"no",e.dom.iframe.id="PS_MENTOR_IFRAME",e.dom.iframe.style.cssText=["visibility:hidden","border:none","height:100%","width:100%","min-width: "+e.config.width+"px","background-color: #222222"].join(";"),e.dom.wrapper.appendChild(e.dom.loading),e.dom.iframe.src=n.buildUrl(o),e.dom.wrapper.appendChild(e.dom.iframe),e.parent=e.dom.iframe.contentWindow,e.config.prismLoaded&&(n.prismAdjust(),window.addEventListener("resize",n.prismAdjust)),i.pendingOpenCB=t||null,setTimeout(e.ui.open),i.timmerLoaded=setTimeout(function(){e.event._listener({data:{event:"error",data:"A timeout has occurred while loading the sidebar"}})},e.config.loadTimeout),i.timmerReady=setTimeout(function(){e.event._listener({data:{event:"error",data:"A timeout has occurred while running the sidebar"}})},e.config.readyTimeout)},e.close=function(){e.ui.close(),setTimeout(e.unload,1e3)},e.unload=function(){e.dom.iframe.parentNode.removeChild(e.dom.iframe),delete e.dom.iframe,e.dom.wrapper.parentNode.removeChild(e.dom.wrapper),delete e.dom.wrapper,window.removeEventListener("message",e.event._listener),window.removeEventListener("scroll",n.onScroll),window.removeEventListener("resize",n.prismAdjust),e.ui.bodyMinSizeReset()},e._headerLess=function(){window.addEventListener("message",e.event._listener,!1)};var n={buildUrl:function(i){var o=(i.server||e.config.server)+(i.serverPath||e.config.serverPath),t={};for(var d in i)t[d]=i[d];return o=o+"?"+n.serialize(t)},onScroll:function(){e.event.scroll(window.pageYOffset||document.documentElement.scrollTop)},serialize:function(e,i){var n=[];for(var o in e)e.hasOwnProperty(o)&&""!==e[o]&&null!==e[o]&&n.push(encodeURIComponent(o)+"="+encodeURIComponent(e[o]));return n.join("&")},prismAdjust:function(){"undefined"!=typeof e.dom.wrapper&&1!=e.config.fullScreen&&(window.innerWidth>e.config.prismMaxSize?e.dom.wrapper.style.right=document.body.scrollWidth/2-e.config.prismMaxSize/2+1+"px":e.dom.wrapper.style.right=0)}};return e}();
//# sourceMappingURL=sidebar.min.js.map
